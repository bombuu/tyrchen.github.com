<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>server operation - </title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/slides/reveal.js/css/reveal.min.css">
    <link rel="stylesheet" href="/assets/slides/reveal.js/css/theme/sky.css" id="theme">
    <link href="http://fonts.googleapis.com/css?family=Arbutus+Slab|Josefin+Slab:400,700|Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet">
    <link rel="stylesheet" href="/assets/slides/code/github.css">
    <link rel="stylesheet" href="/assets/slides/custom.css">
  </head>
  <body class="reveal">
    <div class="reveal">
      <div class="slides"><section>
<h1>Supervisor and Nginx</h1>
<h3>Tyr Chen</h3>
<p> 2013-01-11</p>
</section>
<!--more-->


<section>
<h2>Supervisor Conf</h2>
<p> /et/supervisor/supervisor.conf</p>
<pre><code> [program:babble]
 <span class="built_in">directory</span>=/home/tchen/deployment/babble
 user=tchen
 <span class="command"><span class="keyword">command</span>=<span class="title">node</span> <span class="title">main</span>.<span class="title">js</span></span>
 environment=PORT=<span class="number">7003</span>,ROOT_URL=<span class="string">"http://tchen.me"</span>,MONGO_URL=<span class="string">"mongodb://localhost:27017/babble"</span>
 redirect_stderr=<span class="constant">true</span>
 stderr_logfile=<span class="constant">none</span>
 stdout_logfile=/var/<span class="built_in">log</span>/supervisor/babble.<span class="built_in">log</span>
 autostart=<span class="constant">true</span>
 autorestart=<span class="constant">true</span></code></pre>
</section>
<section>
<h2>Supervisor command</h2>
<pre><code> $ <span class="tag">supervisorctl</span>
 <span class="tag">babble</span>                           <span class="tag">RUNNING</span>    <span class="tag">pid</span> 11486, <span class="tag">uptime</span> 39 <span class="tag">days</span>, 10<span class="pseudo">:42</span><span class="pseudo">:25</span>
 <span class="tag">blog</span><span class="pseudo">:celeryd</span>                     <span class="tag">RUNNING</span>    <span class="tag">pid</span> 17088, <span class="tag">uptime</span> 47 <span class="tag">days</span>, 8<span class="pseudo">:59</span><span class="pseudo">:25</span>
 <span class="tag">blog</span><span class="pseudo">:server</span>                      <span class="tag">FATAL</span>      <span class="tag">Exited</span> <span class="tag">too</span> <span class="tag">quickly</span> (<span class="tag">process</span> <span class="tag">log</span> <span class="tag">may</span> <span class="tag">have</span> <span class="tag">details</span>)
 <span class="tag">dmall</span>                            <span class="tag">STOPPED</span>    <span class="tag">Dec</span> 27 10<span class="pseudo">:17</span> <span class="tag">AM</span>
 <span class="tag">projects</span>                         <span class="tag">RUNNING</span>    <span class="tag">pid</span> 24040, <span class="tag">uptime</span> 36 <span class="tag">days</span>, 0<span class="pseudo">:05</span><span class="pseudo">:09</span>
 <span class="tag">teamspark</span>                        <span class="tag">STOPPED</span>    <span class="tag">Dec</span> 04 08<span class="pseudo">:34</span> <span class="tag">AM</span>
 $ <span class="tag">rearead</span>
 $ <span class="tag">update</span>
 $ <span class="tag">restart</span> <span class="tag">babble</span></code></pre>
</section>

      </div>
    </div>
    <script src="/assets/slides/reveal.js/lib/js/head.min.js"></script>
    <script src="/assets/slides/reveal.js/js/reveal.min.js"></script>
    <script>
      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        
        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none
        
        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: '/assets/slides/reveal.js/plugin/classList.js', condition: function() { return !document.body.classList; } },
          { src: '/assets/slides/reveal.js/plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '/assets/slides/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '/assets/slides/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: '/assets/slides/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: '/assets/reveal/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });
      
    </script>
  </body>
</html>