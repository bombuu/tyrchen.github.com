<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="本博客提供我个人的想法，创意，经验，心得。你不必认同博主观点。" />
    <meta name="keywords" content="创业, 思想, 点子, 经验, python, erlang, node, javascript, 服务器, devops, meteor" />
    <meta name="author" content="Tyr Chen" />

    <!-- Output DocPad produced meta elements -->
    

    <!-- Styles -->
    <link  rel="stylesheet" href="/assets/css/app.min.css" />

    <link href="/assets/favicon.ico" rel="shortcut icon">
    <link href="/assets/apple-touch-icon.png" rel="apple-touch-icon">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    @javascript html5shiv respond.min
    <![endif]-->

    <title>觅珠人 | Tyr Chen的个人博客 | 创意 | 心得 | 经验</title>

</head>

<body>

<!-- Contact Modal -->
<div aria-hidden='true' aria-labelledby='contactModalLabel' class='modal fade' id='contactModal' role='dialog' tabindex='-1'>
    <div class='modal-dialog'>
        <div class='modal-content'>
            <div class='modal-header'>
                <button aria-hidden='true' class='close' data-dismiss='modal' type='button'>×</button>
                <h4 class='modal-title'>Contact Us Form</h4>
            </div>
            <div class='modal-body'>
                <form action='#' role='form'>
                    <div class='form-group'>
                        <div class='row'>
                            <div class='col-md-6'>
                                <label class='control-label' for=''>Your Name</label>
                                <input class='form-control' placeholder='your username' type='text'>
                            </div>
                            <div class='col-md-6'>
                                <label class='control-label' for=''>Your Email</label>
                                <input class='form-control' placeholder='your password' type='text'>
                            </div>
                        </div>
                    </div>
                    <div class='form-group'>
                        <div class='row'>
                            <div class='col-md-12'>
                                <label class='control-label' for=''>Your Message</label>
                                <textarea class='form-control' name='' rows='4'></textarea>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class='modal-footer'>
                <button class='btn btn-default' data-dismiss='modal' type='button'>Cancel</button>
                <button class='btn btn-primary' type='button'>Send Message</button>
            </div>
        </div>
    </div>
</div>


<div class='header-main'>
    <div class='container'>
        <nav class='navbar navbar-default' role='navigation'>
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class='navbar-header'>
                <button class='navbar-toggle' data-target='.navbar-ex1-collapse' data-toggle='collapse' type='button'>
                    <span class='sr-only'>Toggle navigation</span>
                    <span class='icon-bar'></span>
                    <span class='icon-bar'></span>
                    <span class='icon-bar'></span>
                </button>
                <a class='navbar-brand' href='/'>
                    <img alt='' height='45px' src='/assets/images/tyr.png'> <span>觅珠人</span>
                </a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class='collapse navbar-collapse navbar-ex1-collapse'>

                <ul class='nav navbar-nav navbar-right'>
                    <li class="">
                        <a href="/">首页</a>
                    </li>
                    
                        
                        <li
                            about="/pages/posts.html"
                            class=""
                        >
                            <a href="/pages/posts.html">
                                文章随笔
                            </a>
                        </li>
                        
                    
                        
                    
                        
                    
                        
                    
                        
                        <li
                            about="/pages/canvases.html"
                            class=""
                        >
                            <a href="/pages/canvases.html">
                                奇思妙想
                            </a>
                        </li>
                        
                    
                        
                        <li
                            about="/pages/aboutme.html"
                            class=""
                        >
                            <a href="/pages/aboutme.html">
                                关于我
                            </a>
                        </li>
                        
                    
                    <!--
                    <li>
                        <a data-toggle='modal' href='#contactModal'>联系我</a>
                    </li>
                    -->
                </ul>
            </div>
        </nav>
    </div>
</div>
</div>

<div class='separator-shadow-bottom'>
    <img alt='' src='/assets/images/shadow-separator-wide-bottom.png'>
</div>

<div class="container">
	<h1>文章列表：『automation』</h1>
	<hr/>

	<ul>
	
	    <div class='row post-loop'>
  <div class='col-md-2 col-md-offset-1'>
    <div class='post-loop-author-info'>
      <div class='author-avatar'>
        <img alt='' src='/assets/images/tyr.png'>
      </div>
      <div class='author-meta'>
        <h4 class='author-name'>Tyr Chen</h4>
        <i class='icon-calendar'></i>
        10个月前
      </div>
    </div>
  </div>
  <div class='col-md-8'>
    <div class='post-loop-content'>
      <h2 class='has-sub-header'>
        <a href='/posts/2013-01-09-auto-deploy-with-github-webhooks.html'>用Github Webhooks实现自动部署</a>
      </h2>
      <div class='post-loop-meta'>
        <span class='hidden-mobile-ib tags'>
          <i class='icon-reorder'></i>
          
            <a href='/tags/tool.html'>tool</a>
          
            <a href='/tags/automation.html'>automation</a>
          
        </span>
        <span>
          <i class='icon-time'></i>
          12 分钟
        </span>
        <!--
        <span class='hidden-mobile-ib'>
          <a href='#'>
            <i class='icon-comments'></i>
            24
          </a>
        </span>
        <span class='hidden-mobile-ib'>
          <a href='#'>
            <i class='icon-heart'></i>
            15
          </a>
        </span>
        -->
      </div>
      <p>互联网产品永远都处在不断更迭的beta阶段。我们常常会在生产环境外，建立一套与生产环境共享数据的lab环境，以便验证一些即将用于真实世界的想法。问题是，每次提交改动后都需要手工运行部署脚本（前后大概花去30s左右时间），很不高效，每天运行那么几次，对惜时如金的程序员来说是种磨难。于是忙中偷闲的时候，就会想：有没有一种方法在代码提交后能够自动部署，身躯手工的麻烦？</p>
<p>当然是有的。Github的 <a href="https://help.github.com/articles/post-receive-hooks">Post receive hooks</a> 就是用来干这个滴。作者花了小半天时间（对nodejs不熟啊），实现了一个很简单的自动部署方案，趁着记忆还未散去，将其记录在案，和大家分享交流。</p>

      <div class='under-post'>
        <div class='post-social text-center'>
  <a class='social-link' href='#'>
    <i class='icon-facebook'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-twitter'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-linkedin'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-envelope'></i>
  </a>
</div>
      </div>
      <br/>
      <div class='slogan-buttons'>
          <a class='btn btn-primary btn-cta btn-lg animated-when-hover' data-animation-type="swing" href='/posts/2013-01-09-auto-deploy-with-github-webhooks.html'>
              继续阅读 ->
          </a>
      </div>
    </div>
  </div>
</div>

	
	    <div class='row post-loop'>
  <div class='col-md-2 col-md-offset-1'>
    <div class='post-loop-author-info'>
      <div class='author-avatar'>
        <img alt='' src='/assets/images/tyr.png'>
      </div>
      <div class='author-meta'>
        <h4 class='author-name'>Tyr Chen</h4>
        <i class='icon-calendar'></i>
        6个月前
      </div>
    </div>
  </div>
  <div class='col-md-8'>
    <div class='post-loop-content'>
      <h2 class='has-sub-header'>
        <a href='/posts/2013-04-25-engineering-environment-for-smart-team.html'>自动化的高效团队开发环境</a>
      </h2>
      <div class='post-loop-meta'>
        <span class='hidden-mobile-ib tags'>
          <i class='icon-reorder'></i>
          
            <a href='/tags/startup.html'>startup</a>
          
            <a href='/tags/technology.html'>technology</a>
          
            <a href='/tags/automation.html'>automation</a>
          
        </span>
        <span>
          <i class='icon-time'></i>
          5 分钟
        </span>
        <!--
        <span class='hidden-mobile-ib'>
          <a href='#'>
            <i class='icon-comments'></i>
            24
          </a>
        </span>
        <span class='hidden-mobile-ib'>
          <a href='#'>
            <i class='icon-heart'></i>
            15
          </a>
        </span>
        -->
      </div>
      <p>这两天无意翻到几个月前的Evernote笔记，看到了当时对团队开发环境的一些想法。可惜后来种种，这一想法未能得到实践，只能将其完善后公诸于众，立此存照，日后有空可以一试。</p>
<p>考虑这套开发环境是因为我们遇到了这些问题：</p>
<ol>
<li>开发人员的环境并不统一：dev在osx，ubuntu 11.10和ubuntu 12.04上工作，而ux在windows下工作，协调，解决问题不太方便，尤其是一个bug在A的系统出现，却在自己的环境下无法复用。</li>
<li>无法即刻搭建和线上同版本的环境，解决线上问题。小团队节奏很快，当前的工作目录可能和线上版本差几天的代码（diff可能已经是巨量），所以当线上出问题时，將工作环境切换过去非常耗时（尤其是数据库发生变化时）。</li>
<li>为新员工构建开发环境耗时且问题重重。这和第一点有些类似，即在ubuntu下工作的构建开发环境的流程在osx下会break。尤其是后期我们不断有开发人员转换系统到osx下。</li>
</ol>
<p>当时正好看到一篇关于 <a href="http://vagrantup.com">vagrant</a> 的文章，感觉这正是我想要的救命稻草。</p>

      <div class='under-post'>
        <div class='post-social text-center'>
  <a class='social-link' href='#'>
    <i class='icon-facebook'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-twitter'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-linkedin'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-envelope'></i>
  </a>
</div>
      </div>
      <br/>
      <div class='slogan-buttons'>
          <a class='btn btn-primary btn-cta btn-lg animated-when-hover' data-animation-type="swing" href='/posts/2013-04-25-engineering-environment-for-smart-team.html'>
              继续阅读 ->
          </a>
      </div>
    </div>
  </div>
</div>

	
	    <div class='row post-loop'>
  <div class='col-md-2 col-md-offset-1'>
    <div class='post-loop-author-info'>
      <div class='author-avatar'>
        <img alt='' src='/assets/images/tyr.png'>
      </div>
      <div class='author-meta'>
        <h4 class='author-name'>Tyr Chen</h4>
        <i class='icon-calendar'></i>
        5个月前
      </div>
    </div>
  </div>
  <div class='col-md-8'>
    <div class='post-loop-content'>
      <h2 class='has-sub-header'>
        <a href='/posts/2013-06-12-use-makefile-to-automate-deployment.html'>使用Makefile自动化部署</a>
      </h2>
      <div class='post-loop-meta'>
        <span class='hidden-mobile-ib tags'>
          <i class='icon-reorder'></i>
          
            <a href='/tags/automation.html'>automation</a>
          
            <a href='/tags/technology.html'>technology</a>
          
        </span>
        <span>
          <i class='icon-time'></i>
          8 分钟
        </span>
        <!--
        <span class='hidden-mobile-ib'>
          <a href='#'>
            <i class='icon-comments'></i>
            24
          </a>
        </span>
        <span class='hidden-mobile-ib'>
          <a href='#'>
            <i class='icon-heart'></i>
            15
          </a>
        </span>
        -->
      </div>
      <p>有时候，写个小app，部署是件麻烦的事情 —— 你需要登录到服务器上，手工编辑nginx，supervisor等配置文件，然后重启相关的服务。这些配置都不在版本库中，所以也无法记录历史修订。<code>puppet</code> 是个不错的解决方案，但对于小项目来说，使用puppet是个负担。</p>
<p>本文讨论如何通过写个简单的 <code>makefile</code> 来达到自动化部署的目的。</p>

      <div class='under-post'>
        <div class='post-social text-center'>
  <a class='social-link' href='#'>
    <i class='icon-facebook'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-twitter'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-linkedin'></i>
  </a>
  <a class='social-link' href='#'>
    <i class='icon-envelope'></i>
  </a>
</div>
      </div>
      <br/>
      <div class='slogan-buttons'>
          <a class='btn btn-primary btn-cta btn-lg animated-when-hover' data-animation-type="swing" href='/posts/2013-06-12-use-makefile-to-automate-deployment.html'>
              继续阅读 ->
          </a>
      </div>
    </div>
  </div>
</div>

	
	</ul>

</div>

<footer id="main-footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <ul class="footer-menu">
                    <li><a href="/pages/privacy">隐私策略</a></li>
                    <li><a href="/pages/license">版权说明</a></li>
                    <li><a href="/pages/disclaimer">免责声明</a></li>
                    <li><a href="#">联系我们</a></li>
                </ul>
                <div class="copyright">
                    2013 &copy; Tyr Chen. 保留一切权利.
                    <script>
                        var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
                        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F639096b5979f5825515e0f88f871f56c' type='text/javascript'%3E%3C/script%3E"));
                    </script>
                </div>
            </div>
            <div class="col-md-6">
                <ul class="footer-social">
                    <li><a href="#"><i class="icon-facebook"></i></a></li>
                    <li><a href="#"><i class="icon-twitter"></i></a></li>
                    <li><a href="#"><i class="icon-dribbble"></i></a></li>
                    <li><a href="#"><i class="icon-linkedin"></i></a></li>
                    <li><a href="#"><i class="icon-google-plus"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>


<!-- Scripts -->
<script defer="defer"  src="/assets/js/app.min.js"></script>





</body>

</html>